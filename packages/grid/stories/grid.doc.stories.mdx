import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";
import { ComponentAnatomy } from "docs/components/ComponentAnatomy";
import { Button } from "@jpmorganchase/uitk-core";
import { Grid, GridColumn } from "@jpmorganchase/uitk-grid";
import { GridVariantExample, GridAnatomyExample, GridColumnGroupExample, RowSelectionModesExample } from "./grid.examples";
import {
  DownloadIcon,
  SearchIcon,
  SendIcon,
  SettingsSolidIcon,
} from "@jpmorganchase/uitk-icons";
import { withFlexGap } from "docs/decorators/withFlexGap";
import {
  CharacteristicUsage,
  CSSClassTable,
  CSSVariableTable,
} from "css-variable-docgen-components";

<Meta
  title="Documentation/Grid/Grid"
  component={Grid}
  parameters={{
    viewMode: "docs",
  }}
/>

# Grid

A Grid presents tabular information that has columns and rows.
Grid is particularly useful if the tabular information is editable or interactive.
Grid provides users with intuitive and efficient keyboard navigation, content editing, selection, copy and paste.

<!-- - **Call-To-Action** (a.k.a. CTA) performs a critical action on the screen. -->
<!-- - **Primary** is the most commonly-used button. -->
<!-- - **Secondary** performs an action less likely to be triggered. -->

## Grid variants

Grid contains two variants `primary` and `secondary`. If not specified, the default value is `primary`.
Zebra can be enabled for the `primary` variant.

<Canvas>
  <Story name="Grid Variants" decorators={[withFlexGap]}>
    <GridVariantExample variant="primary"/>      
    <GridVariantExample variant="secondary"/>
    <GridVariantExample zebra={true}/>
  </Story>
</Canvas>

## Column separators

Column separators can be enabled using `columnSeparators` property.

<Canvas>
  <Story name="Grid with column separators" decorators={[withFlexGap]}>
    <GridVariantExample variant="primary" columnSeparators={true}/>      
    <GridVariantExample variant="secondary" columnSeparators={true}/>
    <GridVariantExample zebra={true} columnSeparators={true}/>
  </Story>
</Canvas>

## Configuring Grid

### API

Use the following call to import Grid.

```
import { Grid } from "@jpmorganchase/uitk-grid";
```

### Props

<ArgsTable of={Grid} />

### Columns

Grid columns can be configured using `GridColumn` component.

Grid package contains the following types of predefined columns:
- RowSelectionCheckboxColumn
- RowSelectionRadioColumn
- NumericColumn

Every one of them renders a `GridColumn` with a specific set of props.
Users can easily create any project-specific column types using the same approach.

#### GridColumn props
<ArgsTable of={GridColumn} /> 

### Column groups

Columns can be grouped using the `ColumnGroup` component.
<Canvas>
  <Story name="Grid with grouped columns" decorators={[withFlexGap]}>
    <GridColumnGroupExample />
  </Story>
</Canvas>

### Row data

Grid rows are created by providing an array of objects as `rowData` property of the grid.
`rowData` accepts sparse arrays too.
In combination with `onVisibleRowRangeChange` callback this allows lazy loading (server-side data) scenarios.

### Row selection

Grid supports three variants of row selection:
- Single row selection
- Multi-row selection
- None (rows cannot be selected)

`RowSelectionCheckboxColumn` is useful in `multi` row selection mode and `RowSelectionRadioColumn` - in `single` row selection mode.
Both are optional though.

<Canvas>
  <Story name="Grid row selection modes" decorators={[withFlexGap]}>
    <RowSelectionModesExample rowSelectionMode="single"/>      
    <RowSelectionModesExample rowSelectionMode="multi"/>
    <RowSelectionModesExample rowSelectionMode="none"/>
  </Story>
</Canvas>

### Cell selection

In addition to row selection, Grid supports cell range selection using keyboard and mouse.
Cell range selection is controlled by `cellSelectionMode` property.

### HTML Anatomy of a Grid

export const Link = ({ children, to, ...props }) => (
  <a {...props} href={to}>
    {children}
  </a>
);

<Canvas>
  <ComponentAnatomy>
    <GridAnatomyExample />
  </ComponentAnatomy>
</Canvas>

### CSS Class

<CSSClassTable of={Grid} />

### Characteristics used

<CharacteristicUsage of={Grid} />

### --uitkGrid CSS custom property API

The default styling values for most Grid attributes are provided by the theme variables. A smaller number of attributes
use hard-coded values local to Grid. Both of these can be overridden, see Theme documentation for detailed usage guidance.

The CSS custom properties below are consumed by Grid, but not defined by Grid. They can be defined via a container or
a custom class name to override button styling. They will always take precedence over default styles, whether from theme variable
or declared locally. Again, see Theme documentation for guidance on when to use variables from the custom property API.

<CSSVariableTable of={Grid} />

# Help and support

Please check the [issues section of our github repository](https://github.com/jpmorganchase/uitk/issues) for any design or development issues you have.

If you're unable to find an open issue addressing the problem, open a new one. Be sure to include a title and clear description, as much relevant information as possible, any relevant code samples, and details of the expected behavior.

If your issue has already been raised and the issue is still open, add a comment to the existing issue instead of opening a new one.
