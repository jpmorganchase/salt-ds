import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";
import { ComponentAnatomy } from "docs/components/ComponentAnatomy";
import { ToolkitProvider } from "@jpmorganchase/uitk-core";
import { Switch, FormField } from "@jpmorganchase/uitk-lab";
import { withFlexGap } from "docs/decorators/withFlexGap";
import {
  CSSClassTable,
  CSSVariableTable,
} from "css-variable-docgen-components";
import { CustomStyling } from "./switch.stories";

<Meta
  title="Documentation/Lab/Switch"
  component={Switch}
  parameters={{
    viewMode: "docs",
  }}
/>

# Switch

A Switch is a control that behaves like a checkbox but should only be used if the value is of type boolean and the action will have immediate impact. The switch value should be applied right after the `onChange` event and not on a form submission. Controls which toggle boolean values within a form should use the Checkbox component.

## Basic Switch Component

By default the Switch will handle the checkbox state automatically. The value can be set using the defaultChecked prop. The checked prop should only be used if you want a controlled Switch that requires some logic for validating value. The `onChange` event can be used to read the value using the second parameter.

<Canvas>
  <Story name="Basic Switch" decorators={[withFlexGap]}>
    <Switch label="Basic Switch" />
  </Story>
</Canvas>

## Checked

Using the prop `defaultChecked` a Switch can be set to checked but still be used as an uncontrolled component.

<Canvas>
  <Story name="Checked" decorators={[withFlexGap]}>
    <Switch defaultChecked={true} label="Checked" />
  </Story>
</Canvas>

## Controlled

A controlled Switch will rely on the application to manually set the value through the checked prop. The onChange event should be used to read the value and decide what the next value should be. This value is updated by changing the checked prop.

<Canvas>
  <Story name="Controlled" decorators={[withFlexGap]}>
    <Switch checked={true} onChange={null} label="Controlled" />
  </Story>
</Canvas>

## Disabled

Disabled Switches can be either true or false but cannot be changed. Disabled Switches have a 0.4 opacity applied to indicate the restricted state.

<Canvas>
  <Story name="Disabled" decorators={[withFlexGap]}>
    <Switch disabled label="Disabled" />
  </Story>
</Canvas>

# API

```
import { Switch } from "@jpmorganchase/uitk-lab";
```

## Props

<ArgsTable of={Switch} />

## HTML Anatomy of Switch component

<Canvas>
  <Story name="Switch Anatomy">
    <ComponentAnatomy showLegend>
      <Switch />
    </ComponentAnatomy>
    <ComponentAnatomy showLegend>
      <Switch defaultChecked={true} label="Checked" />
    </ComponentAnatomy>
    <ComponentAnatomy showLegend>
      <Switch disabled label="Disabled" />
    </ComponentAnatomy>
  </Story>
</Canvas>

## CSS Class

<CSSClassTable of={Switch} />

## Characteristics Used

- [Focused](/docs/documentation-styles-and-theming-characteristics-focused--misc)
  - --uitk-focused-outline-style
  - --uitk-focused-line-width
  - --uitk-focused-color
  - --uitk-focused-outline-offset
- [Text](/docs/documentation-styles-and-theming-characteristics-text--colors)
  - --uitk-text-font-size
  - --uitk-text-primary-foreground
  - --uitk-text-highlight-color

## --uitkSwitch CSS Custom Property API

The default styling values for most Switch attributes are provided by the theme variables. A smaller number of attributes
use hard-coded values local to Switch. Both of these can be overridden, see Theme documentation for detailed usage guidance.

The CSS custom properties below are consumed by Switch, but not defined by Switch. They can be defined via a container or
a custom class name to override Switch styling. They will always take precedence over default styles, whether from theme variable
or declared locally. Again, see Theme documentation for guidance on when to use variables from the Custom Property API.

<CSSVariableTable of={Switch} />

## Customising Switch styles

<Canvas>
  <Story name="Custom Switch Styling" decorators={[withFlexGap]}>
    <CustomStyling />
  </Story>
</Canvas>
