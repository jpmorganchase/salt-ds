import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";
import { SteppedTracker, TrackerStep, StepLabel } from "@salt-ds/lab";

import { withFlexGap } from "docs/decorators/withFlexGap";
import {
  CharacteristicUsage,
  CSSClassTable,
} from "css-variable-docgen-components";
import HelpAndSupport from "docs/blocks/help-and-support.doc.mdx";

<Meta
  title="Documentation/Lab/SteppedTracker"
  component={SteppedTracker}
  subcomponents={{ TrackerStep, StepLabel }}
  parameters={{
    viewMode: "docs",
  }}
/>

# Stepped Tracker

The Stepped Tracker visually communicates a userâ€™s progress through a linear process. It gives the user context about where they are in the process, as well as an indication of remaining steps and the state of all steps.

##### Use when

- There are separate steps within a process such as a wizard or a multi-step form.
- Where a process can be broken into bite-sized sections that are less daunting than lengthy forms.

##### Don't use when

- There are less than three sequential steps in a process

## Features

The SteppedTracker contains multiple TrackerStep child components. Each TrackerStep indicates it's current status through it's icon, and the connectors indicate current active step i.e. progress through the process. You should add a label to the TrackerStep using the StepLabel component as follows:

```jsx
<SteppedTracker activeStep={1}>
  <TrackerStep>
    <StepLabel state="completed">Step 1</StepLabel>
  <TrackerStep>
  <TrackerStep>
    <StepLabel>Step 2</StepLabel>
  <TrackerStep>
  <TrackerStep>
    <StepLabel>Step 3</StepLabel>
  <TrackerStep>
</SteppedTracker>
```

<Canvas>
  <Story id="lab-stepped-tracker--basic" />
</Canvas>

### Orientation

You can set SteppedTracker to a "horizontal" or "vertical" orientation.

<Canvas>
  <Story id="lab-stepped-tracker--single-vertical" />
</Canvas>

## Best Practice

Keep labels clear and concise, succinctly indicating what the user will encounter during the step. Ideally, labels should be displayed over a single line.

### Step Progression

In normal circumstances, once a step is completed you should both advance the active step, and change the status of the current active step in unison.

<Canvas>
  <Story id="lab-stepped-tracker--auto-progress" />
</Canvas>

It may however be appropriate to control the state of steps, and the active step independantly if users are able to revisit previous steps or complete step non-sequentially.

<Canvas>
  <Story id="lab-stepped-tracker--non-sequential-progress" />
</Canvas>

### Props

#### SteppedTracker

<ArgsTable of={SteppedTracker} />

#### TrackerStep

<ArgsTable of={TrackerStep} />

### Classes

#### SteppedTracker

<CSSClassTable of={SteppedTracker} />

#### TrackerStep

<CSSClassTable of={TrackerStep} />

### Characteristics used

#### SteppedTracker

<CharacteristicUsage of={SteppedTracker} />

#### TrackerStep

<CharacteristicUsage of={TrackerStep} />

<HelpAndSupport />
