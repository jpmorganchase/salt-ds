import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";
import { Link } from "@salt-ds/core";
import { Banner } from "@salt-ds/lab";
import {
  CharacteristicUsage,
  CSSClassTable,
} from "css-variable-docgen-components";
import HelpAndSupport from "docs/blocks/help-and-support.doc.mdx";

<Meta
  title="Documentation/Lab/Banner"
  component={Banner}
  parameters={{
    viewMode: "docs",
  }}
/>

# Banner

<Canvas>
  <Story id="lab-banner--default" />
</Canvas>

There are two ways to use Banner:

- To let users know about important information.
- To provide feedback about an error, warning, a successfully completed process or an information update.

The Banner should relate to the current workflow and span the page or container horizontally to give quick and non-disruptive feedback.

## Banner types

### Static

Static banners display information to the user and is non-functional, there are no interactive elements contained inside the Banner.

<Canvas>
  <Story id="lab-banner--static" />
</Canvas>

### Interactive

The interactive banner includes at least one function allowing users to dismiss or resolve it. However, it can include additional functions as needed (ie, links, buttons, etc)

<Canvas>
  <Story id="lab-banner--interactive" />
</Canvas>

## Examples

### Displaying general information

You should use the information Banner to draw attention to something your user may be unaware of; for example a link to updated terms and conditions.

<Canvas>
  <Story id="lab-banner--inline" />
</Canvas>

### Letting users know about an issue

If your users have a problem that prevents them from completing a task, such as a system error
or technical failure, use the error Banner to tell them how to resolve it.

<Canvas>
  <Story id="lab-banner--issue" />
</Canvas>

Use the warning Banner to let users know about an issue that won't prevent them from
continuing the task, but may cause errors if it's not addressed, such as a restriction due to entitlements
or current system status.

<Canvas>
  <Story id="lab-banner--warning" />
</Canvas>

#### Guidance

When using Banner to alert the user `role="alert"` should be applied.

The Banner should close when:

- The user performs an action that fixes an issue, for example they correct a validation error.
- The system status that triggered the notification is resolved, for example, a server connection is restored

### When you need to reassure your users

Use the success Banner to reassure your users that an event or process related to the user's current
task has been successfully completed.

<Canvas>
  <Story id="lab-banner--success" />
</Canvas>

#### Guidance

When using Banner to notify the user `role="status"` should be applied.

### Multiple Notifications

If you need to share multiple notifications of the same state with your users, you should summarize them in a single Banner.

<Canvas>
  <Story id="lab-banner--multiple-lines" />
</Canvas>

### Multiple Banners

If you have multiple notifications of different states, you should stack the respective banners from top to bottom,
in the following order: Information, Error, Warning, Success.

<Canvas>
  <Story id="lab-banner--multiple-banners" />
</Canvas>

### Secondary

You can make the banner more prominent by passing `variant="secondary"` which will apply a background to the component.

<Canvas>
  <Story id="lab-banner--statuses-secondary" />
</Canvas>

### Dismissible

By default, the Banner is non-dismissible, If you want to make the Banner dismissible, then you should display the Banner conditionally and add the BannerActions component containing a close button with an onClick handler that will update the conditional param.

<Canvas>
  <Story id="lab-banner--dismissible" />
</Canvas>

## Configuring Banner

### Props

<ArgsTable of={Banner} />

### CSS Class

<CSSClassTable of={Banner} />

### Characteristics Used

<CharacteristicUsage of={Banner} />

## Accessibility

Banner is accessible by assistive technologies like screen readers, and provides full WAI-ARIA support.

Any other focusable elements included in the Banner content will need to be checked and tested accordingly.

#### Guidance

When using Banner to alert the user `role="alert"` should be applied.

When using Banner to notify the user `role="status"` should be applied.

<HelpAndSupport />
