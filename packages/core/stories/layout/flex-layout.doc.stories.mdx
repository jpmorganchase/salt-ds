import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";
import { ComponentAnatomy } from "docs/components/ComponentAnatomy";
import { FlexLayout, FlexItem } from "@jpmorganchase/uitk-core";
import {
  CSSClassTable,
  CSSVariableTable,
} from "css-variable-docgen-components";
import { DefaultFlexLayout } from "./flex-layout.stories";

<Meta
  title="Documentation/Core/Layout/FlexLayout"
  component={FlexLayout}
  subcomponents={{ FlexItem }}
  parameters={{
    viewMode: "docs",
  }}
/>

# Flex layout

Flex layout dictates a horizontal or vertical order and direction for UI elements.
The height is driven by the child elements, and there are visual separators that can be turned on/off (default) between items.

It can be used for cases in which the direction needs complex customization that can't be achieved by stack or flow layouts.
For example, in layouts where the direction needs to change depending on the viewport.

For layouts where you need to control the two dimensions, see [Grid layout](?path=/docs/documentation-core-layout-gridlayout--page).

<Canvas>
  <Story id="core-layout-flexlayout--default-flex-layout" />
</Canvas>

## How you can use Flex layout

Out of the box, flex layout will spread items horizontally disabling them to wrap unless responsive props are passed.
FlexLayout is useful when you want a layout that flows in a single dimension where the dimension changes dependant on something external like viewport size.

If you want your layout to have a constant direction, we recommend you having a look at [Stack layout](?path=/docs/documentation-core-layout-stacklayout--page) or [Flow layout](?path=/docs/documentation-core-layout-flowlayout--page)

## API

```
import { FlexLayout, FlexItem } from "@jpmorganchase/uitk-core";
```

## Props

**ResponsiveProp** refers to a prop than take either multiple values (one per breakpoint) or a single value that would take effect across all different screen sizes
For the following example, we can think about a layout that will change direction from rows to columns as the breakpoints change.

```
direction={{ xs: "row", sm: "column", lg: "row", md: "column", xl: "row" }}
```

<ArgsTable of={FlexLayout} />

## Examples

### Flex Item inside default flex layout

A flex item allows more complex controls to the default behaviour of a flex child, like defining the priority with which an element grows/shrink and it's alignment.

<Canvas>
  <Story id="core-layout-flexlayout-flexitem--flex-item-wrapper" />
</Canvas>

### Flex Layout with separators

Flex Layout allows for separators between items that will by default display centered `separators={true}` but can be customized to sit on the left or right of a children.
The separators span across the width of the layout component if the direction is row and the height if the direction is columns.
The Flex layout gap will apply to both sides of the separator line.

<Canvas>
  <Story id="core-layout-flexlayout--flexLayout-with-separators" />
</Canvas>

### Responsive

The flex layout supports the use of responsive props, so you can defined different behaviours based on viewport size.
You can use the default breakpoints or pass in you own.

<Canvas>
  <Story id="core-layout-flexlayout--toolkit-flex-layout-responsive" />
</Canvas>

### Simple Usage

The simple usage examples shows a group of elements inside a flex container with `wrap`

<Canvas>
  <Story id="core-layout-flexlayout--flexLayout-simple-usage" />
</Canvas>

### Composite Usage

<Canvas>
  <Story id="core-layout-flexlayout--flexLayout-composite" />
</Canvas>

## Related components

The flex layout is used in the following components

- [Split layout](?path=/docs/documentation-core-layout-splitlayout--page)
- [Stack layout](?path=/docs/documentation-core-layout-stacklayout--page)
- [Flow layout](?path=/docs/documentation-core-layout-flowlayout--page)
- [Parent Child layout](?path=/docs/documentation-core-layout-parentchildlayout--page)

## Anatomy

<Canvas>
  <ComponentAnatomy showControls={false}>
    <FlexLayout style={{ border: "dashed 1px black", padding: "1rem" }}>
      <FlexItem style={{ border: "dashed 1px black", padding: "1rem" }} />
    </FlexLayout>
  </ComponentAnatomy>
</Canvas>

### Classes

#### Layout

<CSSClassTable of={FlexLayout} />

#### Item

<CSSClassTable of={FlexItem} />
