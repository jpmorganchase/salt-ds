import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";
import { Button, Text, Tooltip } from "@salt-ds/core";
import {
  CharacteristicUsage,
  CSSClassTable,
} from "css-variable-docgen-components";
import HelpAndSupport from "docs/blocks/help-and-support.doc.mdx";

<Meta
  title="Documentation/Core/Tooltip"
  component={Tooltip}
  parameters={{
    viewMode: "docs",
  }}
/>

# Tooltip

A Tooltip allows you to display a brief message to the user that provides context or information about a UI element or an issue. The Tooltip appears after the user’s mouse pointer hovers over the target element for a certain amount of time.

## Usage

### Use Tooltip when

- You want to display extra information or a description of an on-screen element.
- You have supplementary information that provides clarity to the user.
- The Tooltip content is short and self-explanatory. If a longer description is needed, consider adding it to the page so it's always visible.

### Do not use Tooltip when

- The Tooltip content would contain interactive elements, like a link, input or button. Consider making this content visible at all times or use an Overlay or a Dialog instead.
- There’s information in the Tooltip that the user needs to know to complete a task. Important help text should always be visible and not hidden from the user.

## Default

<Canvas>
  <Story id="core-tooltip--default" />
</Canvas>

## Features

### Status

Use the `status` prop to define the icon that's displayed in the Tooltip. You can choose between `error`, `warning`, `success` and `info`.

<Canvas>
  <Story id="core-tooltip--status" />
</Canvas>

### Without arrow

If you'd like to display the Tooltip without the arrow, use the `hideArrow` prop.

<Canvas>
  <Story id="core-tooltip--without-arrow" />
</Canvas>

### Without icon

To display the Tooltip with text only, and no status icon, use the `hideIcon` prop.

<Canvas>
  <Story id="core-tooltip--without-icon" />
</Canvas>

### Content

Use the `content` prop to pass either a simple string or a React component that's displayed inside the Tooltip.

<Canvas>
  <Story id="core-tooltip--custom-content" />
</Canvas>

### Placement

To position the Tooltip, use the `placement` prop. The component shifts automatically when there's limited space, so it remains visible.

<Canvas>
  <Story id="core-tooltip--placement" />
</Canvas>

### Delay before shown

By default, the Tooltip displays after 300 milliseconds (ms). To change the delay before it’s shown, use the `enterDelay` prop.

<Canvas>
  <Story id="core-tooltip--delay" />
</Canvas>

## Custom Floating UI Platform

### Custom Platforms

Tooltip also provides support for advanced usage where the Tooltip or anchor may not be rendered in the root document of the application. This is based on [Floating UI's Platform feature](https://floating-ui.com/docs/platform)

You can provide a custom Floating UI platform to be used in Tooltip by importing `<FloatingPlatformProvider>` and passing a custom floating-ui [Floating UI Platform](https://floating-ui.com/docs/platform) this will then be used within Tooltip.

```
import { FloatingPlatformProvider } from "@salt-ds/core";
```

You may also need to pass a custom component to be used as the root of the tooltip (e.g. to spawn an external window). This can be achieved by importing `<FloatingComponentProvider>` and providing a component.

```
import { FloatingComponentProvider } from "@salt-ds/window";
```

The following example shows these in action. The application is rendered in an iframe, representing a windowed applicationinside a global coordinate space (e.g. a users desktop).

When the Button is hovered the Tooltip is rendered in it's own iframe (representing a popout window) which has been portalled to the global coordinate space.

The example uses the `FloatingComponentProvider` to trigger creating the new window when the Tooltip is opened.

It also uses the `FloatingPlatformProvider` to customise the positioning of the Tooltip based on the global coordinates of the anchor, rather than the position within it's own window.

<Canvas>
  <Story id="core-tooltip--custom-floating-ui-platform" />
</Canvas>

## Configuring Tooltip

### API

```
import { Tooltip } from "@salt-ds/core";
```

### Props

<ArgsTable of={Tooltip} />

### CSS classes

<CSSClassTable of={Tooltip} />

### Characteristics used

<CharacteristicUsage of={Tooltip} />

## Related components

The Tooltip component can contain a [Status Indicator](?path=/docs/documentation-core-status-indicator--page).

## Accessibility

The Tooltip doesn’t receive focus, so we recommend that you don’t include interactive elements as they won’t be accessible. If you need to display focusable content such as buttons or links, consider using the Overlay component instead.

<HelpAndSupport />
