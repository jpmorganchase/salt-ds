import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";
import { FlexLayout, FlexItem } from "@salt-ds/core";
import { CSSClassTable } from "css-variable-docgen-components";
import HelpAndSupport from "docs/blocks/help-and-support.doc.mdx";

<Meta
  title="Documentation/Core/Layout/FlexLayout"
  component={FlexLayout}
  subcomponents={{ FlexItem }}
  parameters={{
    viewMode: "docs",
  }}
/>

# Flex layout

Flex layout dictates a horizontal or vertical order and direction for UI elements.
The height is driven by the child elements.

It can be used for cases in which the direction needs complex customization that can't be achieved by stack or flow layouts.
For example, in layouts where the direction needs to change depending on the viewport.

For layouts where you need to control the two dimensions, see [Grid layout](?path=/docs/documentation-core-layout-gridlayout--page).

<Canvas>
  <Story id="core-layout-flexlayout--default-flex-layout" />
</Canvas>

## Use Flex layout when...

You want a layout that flows in a single dimension, where the dimension changes depending on something external like viewport size.

### Don't use Flex layout when...

You want your layout to have a constant direction. In this case we recommend you having a look at [Stack layout](?path=/docs/documentation-core-layout-stacklayout--page) or [Flow layout](?path=/docs/documentation-core-layout-flowlayout--page).

### Examples

#### Flex Item inside default flex layout

A flex item allows more complex controls to the default behavior of a flex child, like defining the priority with which an element grows/shrink and its alignment.

<Canvas>
  <Story id="core-layout-flexlayout-flexitem--flex-item-wrapper" />
</Canvas>

#### Flex layout with separators

Flex layout allows for separators between items that will by default display centered `separators={true}` but can be customized to sit on the left or right of a children.
The separators span across the width of the layout component if the direction is row and the height if the direction is columns.
The Flex layout gap will apply to both sides of the separator line.

<Canvas>
  <Story id="core-layout-flexlayout--flex-layout-with-separators" />
</Canvas>

#### Responsive

Flex layout supports the use of responsive props, so you can define different behaviors based on viewport size.
You can use the default breakpoints or pass in your own to the `SaltProvider`.

<Canvas>
  <Story id="core-layout-flexlayout--flex-layout-using-responsive-props" />
</Canvas>

## Configuring Flex layout

### API

```
import { FlexLayout, FlexItem } from "@salt-ds/core";
```

### Props

**ResponsiveProp** refers to a prop that takes either multiple values (one per breakpoint) or a single value that would take effect across all different screen sizes.
For the following example, we can think about a layout that will change direction from rows to columns as the breakpoints change.

```
direction={{ xs: "row", sm: "column", lg: "row", md: "column", xl: "row" }}
```

<ArgsTable of={FlexLayout} />

## Related components

The flex layout is used in the following components:

- [Stack layout](?path=/docs/documentation-core-layout-stacklayout--page)
- [Flow layout](?path=/docs/documentation-core-layout-flowlayout--page)

### Classes

#### Layout

<CSSClassTable of={FlexLayout} />

#### Item

<CSSClassTable of={FlexItem} />

<HelpAndSupport />
