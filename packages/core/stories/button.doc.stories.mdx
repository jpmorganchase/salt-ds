import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";
import { ComponentAnatomy } from "docs/components/ComponentAnatomy";
import { Button } from "@jpmorganchase/uitk-core";
import {
  DownloadIcon,
  SearchIcon,
  SendIcon,
  SettingsSolidIcon,
} from "@jpmorganchase/uitk-icons";
import { withFlexGap } from "docs/decorators/withFlexGap";
import {
  CharacteristicUsage,
  CSSClassTable,
  CSSVariableTable,
} from "css-variable-docgen-components";
import HelpAndSupport from "docs/blocks/help-and-support.doc.mdx";

<Meta
  title="Documentation/Core/Button"
  component={Button}
  parameters={{
    viewMode: "docs",
  }}
/>

# Button

A Button executes an action when clicked. Button labels should use only one or two words and begin with an active verb. There are three Button variants:

- **Call-To-Action** (a.k.a. CTA) performs a critical action on the screen.
- **Primary** is the most commonly-used button.
- **Secondary** performs an action less likely to be triggered.

## Features

### Button variants

Button contains three variants `cta`, `primary` and `secondary`. If not specified, the default value is `primary`.

<Canvas>
  <Story name="Button Variants" decorators={[withFlexGap]}>
    <Button variant="cta">CTA</Button>
    <Button variant="primary">Primary</Button>
    <Button variant="secondary">Secondary</Button>
  </Story>
</Canvas>

### Button with icon and label

Icons can be put before or after text, or used alone.

<Canvas>
  <Story name="Button with icon and label" decorators={[withFlexGap]}>
    <Button variant="cta">
      Send <SendIcon aria-hidden />
    </Button>
    <Button variant="primary">
      <SearchIcon aria-hidden /> Search
    </Button>
    <Button variant="secondary">
      Setting <SettingsSolidIcon aria-hidden />
    </Button>
    <Button aria-label="download">
      <DownloadIcon aria-hidden />
    </Button>
  </Story>
</Canvas>

### Disabled Button

A button with prop `disabled="true"` will suppress all functionality along with disabling the Button. If you need Button to be focusable, you also need to pass `focusableWhenDisabled="true"`.

<Canvas>
  <Story name="Disabled buttons" decorators={[withFlexGap]}>
    <Button disabled>
      Disabled <SendIcon aria-hidden />
    </Button>
    <Button disabled focusableWhenDisabled>
      Focusable When Disabled
    </Button>
  </Story>
</Canvas>

## Configuring Button

### API

```
import { Button } from "@jpmorganchase/uitk-core";
```

### Props

<ArgsTable of={Button} />

## Related components

The button component can contain the following components:

- [Icon](?path=/docs/documentation-icons-icon--page)
- [Status Indicator](?path=/docs/documentation-core-statusindicator--page)

### Anatomy

export const Link = ({ children, to, ...props }) => (
  <a {...props} href={to}>
    {children}
  </a>
);

<Canvas>
  <ComponentAnatomy>
    <Button>Default</Button>
  </ComponentAnatomy>
  <br />
  <ComponentAnatomy>
    <Button variant="cta">
      CTA with Icon <SendIcon aria-hidden />
    </Button>
  </ComponentAnatomy>
  <br />
  <ComponentAnatomy>
    <Button aria-label="Send">
      <SendIcon aria-hidden />
    </Button>
  </ComponentAnatomy>
</Canvas>

### Classes

<CSSClassTable of={Button} />

### Characteristics used

<CharacteristicUsage of={Button} />

### --uitkButton CSS custom property API

The default styling values for most Button attributes are provided by the theme variables. A smaller number of attributes
use hard-coded values local to Button. Both of these can be overridden, see Theme documentation for detailed usage guidance.

The CSS custom properties below are consumed by Button, but not defined by Button. They can be defined via a container or
a custom class name to override button styling. They will always take precedence over default styles, whether from theme variable
or declared locally. Again, see Theme documentation for guidance on when to use variables from the custom property API.

<CSSVariableTable of={Button} />

## Accessibility

If you are using an icon-only Button:

- Button needs an `aria-label` that describes the purpose of the button.
- Icon should not be announced, pass `aria-hidden=”true”` to hide its label from the screen reader.

If you are using an icon as a decorator:

- Icon should not be announced, pass `aria-hidden=”true”` to hide its label from the screen reader.

<HelpAndSupport />
