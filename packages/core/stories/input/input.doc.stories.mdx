import { Input, Link } from "@salt-ds/core";
import { Meta, Canvas, ArgsTable, Story } from "@storybook/addon-docs";
import {
  CSSClassTable,
  CharacteristicUsage,
} from "css-variable-docgen-components";
import HelpAndSupport from "docs/blocks/help-and-support.doc.mdx";

<Meta
  title="Documentation/Core/Input"
  component={Input}
  parameters={{
    viewMode: "docs",
  }}
/>

# Input

Input provides an editable field in which users can enter arbitrary text and numeric values. It is best used for short freeform content and data entry.

<Canvas>
  <Story id="core-input--default" />
</Canvas>

## Examples

### Default

Input comprises value text and a focus ring. The component is initially empty. Once it has focus, it accepts text on a single line.

<Canvas>
  <Story id="core-input--default" />
</Canvas>

- Input is responsive to the size of its parent container, filling it 100%. To disable responsiveness, apply a fixed width and height using the CSS API.

### Controlled

You can control Input with the `value` and `onChange` props. Learn more about <Link href="https://react.dev/learn/sharing-state-between-components#controlled-and-uncontrolled-components">controlled vs. uncontrolled components</Link> in the official React docs.

<Canvas>
  <Story id="core-input--controlled" />
</Canvas>

### Variants

Input has two variants: primary (default) and secondary.

<Canvas>
  <Story id="core-input--variants" />
</Canvas>

- For recommendations on variant choice, see the <Link href="https://www.saltdesignsystem.com/salt/patterns/forms">Forms pattern</Link>.

### Disabled

You can set Input to a disabled state, with no resultant action when the user interacts with it.

<Canvas>
  <Story id="core-input--disabled" />
</Canvas>

### Placeholder

You can use a placeholder to prompt user input if no default value is provided.

<Canvas>
  <Story id="core-input--placeholder" />
</Canvas>

### Read-only

You can set Input to a read-only state. The value text can’t be edited in this state, but it can be highlighted and copied.

By default, the marker is set to an em dash. If your application requires a different marker it can be set via the emptyReadOnlyMarker prop.

<Canvas>
  <Story id="core-input--readonly" />
</Canvas>

- Use the read-only state when the value is necessary for the users flow or current task but cannot be edited, for example, because of user permissions.

For accessibility purposes, it is recommended that you add a marker for empty read only fields via the `emptyReadOnlyMarker` prop. This ensures it’s clear that for the current selection or configuration a value is not necessary.

<Canvas>
  <Story id="core-input--empty-readonly-marker" />
</Canvas>

### Text Alignment

Text is aligned to the left by default. Use the `textAlign` prop to change to “center” or “right”.

<Canvas>
  <Story id="core-input--text-alignment" />
</Canvas>

- Numeric values are often displayed right aligned to make them easier to compare. However, sometimes number fields are unrelated or are mixed with text fields in a form, so left-alignment may promote better visual flow. Consider your use case when deciding on Input field alignment.
- You may choose to centre-align an input field to bring emphasis to a value, however, this should be the exception and used sparingly.

### Validation

Input can show validation states (warning, success, error) with the prop `validationStatus`.

<Canvas>
  <Story id="core-input--validation" />
</Canvas>

- Use the error state to alert the user of a critical issue that’s related to the input. Issues highlighted by an error state may jeopardize completion of the task and usually require action from the user to resolve the error.
- Display the warning state to alert the user of a potential issue that won’t prevent the user from continuing with the task, but may cause errors if it’s not addressed.

### Placeholder

You can use a placeholder to prompt user input if no default value is provided.

<Canvas>
  <Story id="core-input--placeholder" />
</Canvas>

- Placeholder text should never be used to provide the user with contextual help since it will be removed when the user starts typing and does not meet minimum contrast requirements. Doing so is a WCAG failure. Instead, use Helper Text beneath the field to provide instructions or directions which are necessary to complete the field, and reserve the Placeholder Text to support, or provide an example of, the help message. More information can be found [here](https://www.w3.org/WAI/tutorials/forms/instructions/)

### Adornments

Custom adornments can be provided to the beginning or end of the Input field using the `startAdornment` and `endAdornment` props.

<Canvas>
  <Story id="core-input--with-static-adornments" />
</Canvas>

Use the `Button` component to have an interactive button within your Input field.

<Canvas>
  <Story id="core-input--with-button-adornment" />
</Canvas>

## Spellcheck

Automatic spellchecking can be turned on by the `spellCheck` prop.

<Canvas>
  <Story id="core-input--spellcheck" />
</Canvas>

## How to use

### When to use Input

An Input is recommended when a user is asked a subjective question and the length of their answer is likely to be less than a single line. In this case, set the width accordingly so that it correlates with the length of the answer you’re expecting, to avoid misleading users. For example, an input for a 3-digit value should not be wide enough to accommodate a sentence worth of characters.

## When not to use Input

An Input is recommended when a user is asked a subjective question and the length of their answer is likely to be less than a single line. In this case, set the width accordingly so that it correlates with the length of the answer you’re expecting, to avoid misleading users. For example, an input for a 3-digit value should not be wide enough to accommodate a sentence worth of characters.

## API

```
import { Input } from "@salt-ds/core";
```

### Props

<ArgsTable of={Input} />

### CSS Class

<CSSClassTable of={Input} />

### Characteristics Used

<CharacteristicUsage of={Input} />

### Accessibility

To be considered accessible within a form, the Input _must_ be wrapped in a [Form Field](?path=/docs/documentation-core-form-field--page) component, which will provide the field with a visible label, help text and a status message for validation feedback.

<HelpAndSupport />
