import { Meta, ArgsTable, Canvas, Story } from "@storybook/addon-docs";
import { Link } from "@jpmorganchase/uitk-core";
import {
  CSSClassTable,
  CSSVariableTable,
} from "css-variable-docgen-components";

import { withFlexGap } from "docs/decorators/withFlexGap";

import HelpAndSupport from "docs/blocks/help-and-support.doc.mdx";
import { StackoverflowIcon } from "@jpmorganchase/uitk-icons";

<Meta
  title="Documentation/Core/Link"
  component={Link}
  parameters={{
    viewMode: "docs",
  }}
/>

# Link

A link is a navigational element that when clicked, takes the user to either a different site or element within the current site.

Link is an extension of [Text component](/docs/documentation-core-text--primary) so it inherits all its properties. Link also extends HTMLAnchorElement type so all anchor props are available to use.

## Features

### Internal Link

A default link provides navigation to either a new webpage or an internal page of the current website.

Default links will only navigate the user within the same tab, replacing the page where the user found the link.

<Canvas>
  <Story name="Internal Link" decorators={[withFlexGap]}>
    <Link href="https://www.google.com">Link to URL</Link>
  </Story>
</Canvas>

### External Link

A link with target \_blank navigates the user to an external link. Each time the link is accessed, a new tab will open.

<Canvas>
  <Story name="External Link" decorators={[withFlexGap]}>
    <Link href="https://www.google.com" target="_blank">
      Link to URL
    </Link>
  </Story>
</Canvas>

#### Design considerations

- You can also disable the icon next to external links. However, we advise against hiding the icon where possible for external links. They are an ideal indicator for discerning between links that direct the user to internal versus external destinations.
- Place the icon to the right-hand side of the link text where possible.

### External Link with custom icon

The icon for external links can be customized to display alternative icons.

<Canvas>
  <Story name="External Link with custom icon" decorators={[withFlexGap]}>
    <Link
      IconComponent={StackoverflowIcon}
      href="https://www.google.com"
      target="_blank"
    >
      Link to URL
    </Link>
  </Story>
</Canvas>

### Link variants

Link variants are the background/foreground colors assigned to text styles for varying interaction states (e.g. disabled, hover, selected etc), that can be applied across the different text styles available. These are split into two groupings, `primary` and `secondary` with `primary` being the default.

Use the `variant` prop when you want to change the link color.

<Canvas>
  <Story name="Primary">
    <Link>This is a primary link example</Link>
  </Story>
</Canvas>

<Canvas>
  <Story name="Secondary">
    <Link variant="secondary">This is a secondary link example</Link>
  </Story>
</Canvas>

### Emphasis

There are three emphasis levels across our text styles that can be used to highlight or lowlight chunks of text - the default level with no emphasis, `strong` to emphasize text/content and `small` to de-emphasize text/content.

The link component allows flexibility for you to apply different emphasis levels to individual parts of text, and is not restricted to the entire text within the link. This enables you to provide the best visual priority, by tweaking the affordance of the text, whilst maintaining the correct HTML hierarchy.

Use `<strong>` or `<small>` tags inside your link components to wrap the chunks of text you wish to modify.

<Canvas>
  <Story name="Strong">
    <Link href="#root" target="_blank">
      This is a <strong>strong</strong> link example
    </Link>
  </Story>
</Canvas>

<Canvas>
  <Story name="Small">
    <Link>
      This is a <small>small</small> link example
    </Link>
  </Story>
</Canvas>

### StyleAs

Although we do not encourage it, you may find it necessary to need to match one of our link components' styling to another element type. In this case you'd use the `styleAs` prop.

The `styleAs` prop allows you to maintain the correct HTML hierarchy (i.e. for placement of text that supports assistive technologies such as screen readers) whilst maintaining the appropriate visual priority.

<Canvas>
  <Story name="StyleAs">
    <Link href="#root" styleAs="label">
      This is a styleAs label example
    </Link>
  </Story>
</Canvas>

### Truncation

By using the `maxRows` prop your link component will be truncated and will display the chosen number of rows. An ellipsis will be shown at the end to indicate the text has been truncated. If a value is not set for `maxRows`, the text will wrap.

If you use truncated text, please ensure you are remaining ADA compliant by following our [Accessibility](#Accessibility) guidance.

<Canvas>
  <Story name="Truncation">
    <div style={{ width: 150 }}>
      <Link maxRows={1}>This is a truncation example</Link>
    </div>
  </Story>
</Canvas>

# API

```
import { Link } from "@jpmorganchase/uitk-core";
```

## Props

<ArgsTable of={Link} />

### CSS Classes

<CSSClassTable of={Link} />

### Characteristics used

<CharacteristicUsage of={Link} />

### --uitkLink CSS custom property API

The default styling values for most Link attributes are provided by the theme variables. A smaller number of attributes
use hard-coded values local to Link. Both of these can be overridden, see Theme documentation for detailed usage guidance.

The CSS custom properties below are consumed by Link, but not defined by Link. They can be defined via a container or
a custom class name to override button styling. They will always take precedence over default styles, whether from theme variable
or declared locally. Again, see Theme documentation for guidance on when to use variables from the custom property API.

<CSSVariableTable of={Link} />

## Accessibility

We are letting you decide on the user experience you would like to implement for links, however you need to remain ADA compliant and provide the correct visual and auditory experience for link truncation. Truncated links must meet the WCAG SC 1.4.4 requirement.

- The requirement states any visually rendered text must be accessed and displayed in full. Therefore, a truncated string must be able to be displayed in full - it is the application teamâ€™s responsibility to provide a mechanism to achieve that. Possible solutions include tooltips or a mechanism for expanding the link.
- If you use a truncated link, you must ensure that the full value can be read out via a screen reader. This can be achieved by allowing your user to move focus to the parent of the link, or the link itself, within your application.

<HelpAndSupport />
